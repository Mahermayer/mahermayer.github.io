<span id="page-views">loading…</span>
<script>
(function() {
  // prefer total if you want raw hits; use count_unique for unique visitors
  var field = "count_total"; // or "count_unique"
  var path = encodeURIComponent(window.location.pathname || "/");
  var url = "https://mahermayer.goatcounter.com/counter/" + path + ".json";

  fetch(url, { credentials: 'omit' })
    .then(function(res) {
      if (!res.ok) throw new Error("HTTP " + res.status);
      return res.json();
    })
    .then(function(data) {
      var n = data && (data[field] || 0);
      document.getElementById("page-views").textContent = n + " views";
    })
    .catch(function(err) {
      console.warn("GoatCounter JSON error:", err);
      document.getElementById("page-views").textContent = "—";
    });
})();
</script>
